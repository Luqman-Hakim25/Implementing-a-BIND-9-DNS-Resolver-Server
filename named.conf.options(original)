
//config_error log test
//acl unused-acl { 192.168.0.0/24; }


options {
        // all relative paths use this directory as a base
        directory "/var/cache/bind";

        // version statement for security to avoid hacking known weaknesses
        // if the real version number is revealed
        version "not currently available";

        // this is the default
        recursion yes;
        
        //access-list (blocked ip)
        //blackhole { 192.168.0.50; };

        //listen on command
        //listen-on port 53 { 127.0.0.1; 1.9.54.116; };


        // recursive queries only allowed from these ips
        // and references the acl clause
        allow-query { localhost; 192.168.0.17; 192.168.0.6; 192.168.0.45; 192.168.0.16; 192.168.0.50; 192.168.0.55; };

        // this ensures that any reverse map for private IPs
        // not defined in a zone file will *not* be passed to the public network
        // it is the default value
        empty-zones-enable yes;
/*
        forwarders {
                8.8.8.8;
                8.8.4.4;
        };
*/

        dnssec-validation auto;

        auth-nxdomain no;    # conform to RFC1035

        listen-on-v6 { any; };

        querylog yes;

        dnstap { all;};
        //dnstap {auth; resolver query;};
        dnstap-output unix "/var/run/named/dnstap.sock";

        //Implement rate limiting to prevent abuse
        rate-limit {
                responses-per-second 15;
                window 5;
                slip 2;
       };

        //Cache settings for performance
        max-cache-size 512M; 
        max-cache-ttl 86400;   //24hours
        max-ncache-ttl 3600;   //1hours


        statistics-file "/var/log/named/named_stats.log";

/*        
        statistics-channels {
                inet 127.0.0.1 port 8053 allow { localhost; };
        };
*/

};
